{
  "procedures": [
    {
      "name": "graphql",
      "operations": [
        {
          "tech": "graphql",
          "parameters": {
            "url": "https://gontoz.escape.tech/",
            "method": "POST",
            "query": "mutation { authentification(username: \"{{username}}\", password: \"{{password}}\") { token } }",
            "variables": []
          },
          "extractions": [
            {
              "name": "token",
              "location": "body",
              "key": "token"
            }
          ]
        }
      ]
    }
  ],
  "users": [
    {
      "name": "user",
      "credentials": {},
      "procedure": "graphql",
      "injections": [
        {
          "location": "header",
          "key": "Authorization",
          "value": "Bearer {{token}}"
        }
      ],
      "variables": [
        {
          "name": "username",
          "value": "john"
        },
        {
          "name": "password",
          "value": "P4ss"
        }
      ]
    }
  ],
  "$schema": "./multiauth-schema.json"
}
