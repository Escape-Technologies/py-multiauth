credentials:
  - name: user1
    schema: procedure-http
    injection:
      location: headers
      key: Authorization
      prefix: "Bearer "
      variable: var1
    data:
      username: user1
      password: pass1
      headers:
        - name: header1
          value: value1
        - name: header2
          value: value2
      cookies:
        - name: cookie1
          value: value1
        - name: cookie2
          value: value2
      queryParameters:
        - name: query1
          value: value1
        - name: query2
          value: value2
      body:
        foo: bar
        test:
          buzz: fizz
      variables:
        - name: var1
          value: value1
        - name: var2
          value: value2
procedures:
  - name: procedure-http
    tech: http
    request:
      url: http://localhost:8080
      method: GET
      headers:
        - name: header1
          value: value1
        - name: header2
          value: value2
      cookies:
        - name: cookie1
          value: value1
        - name: cookie2
          value: value2
      queryParameters:
        - name: query1
          value: value1
        - name: query2
          value: value2
      body:
        foo: bar
        test:
          buzz: fizz
    extractions:
      - name: new-variable-1
        location: headers
        key: foo
      - name: new-variable-2
        location: body
        key: [foo, bar]
      - name: new-variable-1
        location: cookies
        key: foo
  - name: procedure-graphql
    tech: graphql
    request:
      url: http://localhost:8080
      method: POST
      headers:
        - name: header1
          value: value1
        - name: header2
          value: value2
      cookies:
        - name: cookie1
          value: value1
        - name: cookie2
          value: value2
      queryParameters:
        - name: query1
          value: value1
        - name: query2
          value: value2
      query: query { test { foo } }
      variables:
        - name: var1
          value: value1
        - name: var2
          value: value2
    extractions:
      - name: new-variable-1
        location: headers
        key: foo
  - name: procedure-public
    tech: public
